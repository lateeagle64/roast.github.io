<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>lateeagle64.github.io</title>
  </head>
  <body>
    <h1>lateeagle64.github.io</h1>
    <h2>welcome!</h2>
    <p>
      view and play unblocked games
    </p>
    <p>
      current amount of games: ?
    </p>
    <h2>games</h2>
    <div id="buttonContainer"></div> <!-- Fixed closing tag -->

    <script>
      const username = "lateeagle64";
      const repo = "lateeagle64.github.io";
      const folder = "games";

      // GitHub API endpoint to get contents of a folder
      const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${folder}`;

      // Fetch data from GitHub API
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          const buttonContainer = document.getElementById('buttonContainer');

          // Iterate through files and create a button for each one
          data.forEach(file => {
            const button = document.createElement('button');
            const name = file.info.name;
            
            button.textContent = name;

            // Add a click event listener to the button
            button.addEventListener('click', () => {
              // Get the URL from the file data
              const url = file.info.url;

              // Redirect the user to the specified URL
              window.location.href = url;
            });

            buttonContainer.appendChild(button);
          });
        })
        .catch(error => console.error('Error fetching data:', error));
    </script>
  </body>
</html>
